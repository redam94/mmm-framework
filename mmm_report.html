<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Mix Model Report</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #5a7c65;
            --color-primary-light: #8fa86a;
            --color-bg: #fafbf9;
            --color-bg-alt: #f0f4ed;
            --color-text: #2d3a2e;
            --color-text-muted: #5a6b5a;
            --color-border: #d4ddd4;
            --color-success: #4a7c59;
            --color-warning: #c4a35a;
            --color-danger: #a65d57;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            text-align: center;
            padding: 3rem 0;
            border-bottom: 1px solid var(--color-border);
            margin-bottom: 2rem;
        }
        
        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }
        
        header .subtitle {
            font-size: 1.1rem;
            color: var(--color-text-muted);
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        
        .section h2 {
            font-size: 1.5rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--color-bg-alt);
        }
        
        .section h3 {
            font-size: 1.2rem;
            color: var(--color-text);
            margin: 1.5rem 0 1rem;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .metric-card {
            background: var(--color-bg-alt);
            border-radius: 8px;
            padding: 1.25rem;
            text-align: center;
        }
        
        .metric-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary);
        }
        
        .metric-card .label {
            font-size: 0.85rem;
            color: var(--color-text-muted);
            margin-top: 0.25rem;
        }
        
        .chart-container {
            height: 400px;
            margin: 1.5rem 0;
        }
        
        .chart-container-sm {
            height: 300px;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }
        
        th {
            background: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-text);
        }
        
        .mono { font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; }
        .positive { color: var(--color-success); font-weight: 600; }
        .negative { color: var(--color-danger); font-weight: 600; }
        .uncertain { color: var(--color-warning); }
        
        .callout {
            background: var(--color-bg-alt);
            border-left: 4px solid var(--color-primary);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .callout h4 {
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--color-text-muted);
            font-size: 0.85rem;
        }
        
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .chart-grid { grid-template-columns: 1fr; }
            header h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Marketing Mix Model Report</h1>
            <div class="subtitle">Analysis Period: January 2023 - December 2024 | Generated: January 14, 2026</div>
        </header>
        
        <!-- Executive Summary -->
        <div class="section">
            <h2>üìä Executive Summary</h2>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="value">$115.3M</div>
                    <div class="label">Total Revenue</div>
                </div>
                <div class="metric-card">
                    <div class="value">$13.5M</div>
                    <div class="label">Total Media Spend</div>
                </div>
                <div class="metric-card">
                    <div class="value">21.2%</div>
                    <div class="label">Media Contribution</div>
                </div>
                <div class="metric-card">
                    <div class="value">1.58x</div>
                    <div class="label">Avg. ROI</div>
                </div>
            </div>
            
            <div class="callout">
                <h4>üí° Key Insights</h4>
                <p>Paid Search delivers the highest ROI (2.51x) with 
                100% probability of profitability. 
                TV shows strong performance with significant carryover effects. 
                Radio ROI is uncertain‚Äîconsider geo-testing for validation.</p>
            </div>
        </div>
        
        <!-- Channel ROI -->
        <div class="section">
            <h2>üìà Channel ROI with Uncertainty</h2>
            <p>Return on Investment estimates with 94% credible intervals. Higher probability of profitability indicates more confident investment recommendations.</p>
            
            <div class="chart-container" id="roiChart"></div>
            
            <table>
                <thead>
                    <tr>
                        <th>Channel</th>
                        <th>Spend</th>
                        <th>ROI</th>
                        <th>94% HDI</th>
                        <th>P(ROI > 1)</th>
                        <th>Recommendation</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <td>Paid Search</td>
                        <td class="mono">$3.32M</td>
                        <td class="mono positive">2.51x</td>
                        <td class="mono">[2.03 ‚Äì 2.97]</td>
                        <td class="mono">100%</td>
                        <td class="positive">
                            Increase
                        </td>
                    </tr>
                    
                    <tr>
                        <td>TV</td>
                        <td class="mono">$5.19M</td>
                        <td class="mono positive">1.80x</td>
                        <td class="mono">[1.48 ‚Äì 2.13]</td>
                        <td class="mono">100%</td>
                        <td class="positive">
                            Increase
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Paid Social</td>
                        <td class="mono">$2.79M</td>
                        <td class="mono positive">1.61x</td>
                        <td class="mono">[1.31 ‚Äì 1.90]</td>
                        <td class="mono">100%</td>
                        <td class="positive">
                            Increase
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Display</td>
                        <td class="mono">$1.31M</td>
                        <td class="mono ">1.10x</td>
                        <td class="mono">[0.89 ‚Äì 1.30]</td>
                        <td class="mono">83%</td>
                        <td class="uncertain">
                            Test further
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Radio</td>
                        <td class="mono">$0.89M</td>
                        <td class="mono negative">0.90x</td>
                        <td class="mono">[0.72 ‚Äì 1.06]</td>
                        <td class="mono">14%</td>
                        <td class="negative">
                            Reduce
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        
        <!-- Decomposition -->
        <div class="section">
            <h2>üß© Revenue Decomposition</h2>
            <p>Breakdown of total revenue into baseline and media-driven components.</p>
            
            <div class="chart-container" id="waterfallChart"></div>
            
            <div class="chart-container" id="timeSeriesChart"></div>
        </div>
        
        <!-- Saturation Analysis -->
        <div class="section">
            <h2>üìâ Saturation & Diminishing Returns</h2>
            <p>Marketing channels exhibit diminishing returns at higher spend levels. Current position on curves indicates optimization opportunities.</p>
            
            <div class="chart-grid">
                <div class="chart-container chart-container-sm" id="saturationChart1"></div>
                <div class="chart-container chart-container-sm" id="saturationChart2"></div>
            </div>
            
            <h3>Saturation Summary</h3>
            <table>
                <thead>
                    <tr>
                        <th>Channel</th>
                        <th>Current Saturation</th>
                        <th>Marginal ROI</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <td>TV</td>
                        <td class="mono">60%</td>
                        <td class="mono">0.1002</td>
                        <td class="uncertain">
                            Moderate
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Paid Search</td>
                        <td class="mono">64%</td>
                        <td class="mono">0.1861</td>
                        <td class="uncertain">
                            Moderate
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Paid Social</td>
                        <td class="mono">45%</td>
                        <td class="mono">0.1408</td>
                        <td class="positive">
                            Room to grow
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Display</td>
                        <td class="mono">59%</td>
                        <td class="mono">0.0853</td>
                        <td class="positive">
                            Room to grow
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Radio</td>
                        <td class="mono">52%</td>
                        <td class="mono">0.0621</td>
                        <td class="positive">
                            Room to grow
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        
        <!-- Adstock Effects -->
        <div class="section">
            <h2>‚è±Ô∏è Carryover Effects (Adstock)</h2>
            <p>Marketing investments create effects that persist beyond the week of spend. Half-life indicates how quickly effects decay.</p>
            
            <div class="chart-container" id="adstockChart"></div>
            
            <table>
                <thead>
                    <tr>
                        <th>Channel</th>
                        <th>Decay Rate (Œ±)</th>
                        <th>Half-Life</th>
                        <th>Total Carryover</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <td>TV</td>
                        <td class="mono">0.60 [0.33 ‚Äì 0.86]</td>
                        <td class="mono">1.4 weeks</td>
                        <td class="mono">59%</td>
                    </tr>
                    
                    <tr>
                        <td>Paid Search</td>
                        <td class="mono">0.25 [0.04 ‚Äì 0.49]</td>
                        <td class="mono">0.5 weeks</td>
                        <td class="mono">25%</td>
                    </tr>
                    
                    <tr>
                        <td>Paid Social</td>
                        <td class="mono">0.40 [0.14 ‚Äì 0.70]</td>
                        <td class="mono">0.8 weeks</td>
                        <td class="mono">40%</td>
                    </tr>
                    
                    <tr>
                        <td>Display</td>
                        <td class="mono">0.35 [0.09 ‚Äì 0.62]</td>
                        <td class="mono">0.7 weeks</td>
                        <td class="mono">35%</td>
                    </tr>
                    
                    <tr>
                        <td>Radio</td>
                        <td class="mono">0.50 [0.22 ‚Äì 0.78]</td>
                        <td class="mono">1.0 weeks</td>
                        <td class="mono">50%</td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        
        <!-- Methodology -->
        <div class="section">
            <h2>üìã Methodology</h2>
            <p>This analysis uses Bayesian Marketing Mix Modeling with honest uncertainty quantification.</p>
            
            <h3>Model Specification</h3>
            <ul style="margin-left: 1.5rem;">
                <li><strong>Framework:</strong> Bayesian MMM with PyMC</li>
                <li><strong>Media transformations:</strong> Geometric adstock √ó Exponential saturation</li>
                <li><strong>Inference:</strong> MCMC sampling (4 chains, 2000 draws each)</li>
                <li><strong>Credible intervals:</strong> 94% Highest Density Interval (HDI)</li>
            </ul>
            
            <h3>Key Assumptions</h3>
            <ul style="margin-left: 1.5rem;">
                <li>Media effects are additive after transformation</li>
                <li>No unmeasured confounders between media and sales</li>
                <li>Saturation and carryover apply uniformly within each channel</li>
            </ul>
            
            <div class="callout">
                <h4>‚ö†Ô∏è Limitations & Recommendations</h4>
                <p>Model estimates rely on observational data and cannot definitively establish causation. 
                For channels with wide uncertainty intervals (e.g., Radio), we recommend geo-holdout experiments 
                to validate model predictions before major budget reallocations.</p>
            </div>
        </div>
        
        <footer>
            <p>Generated by MMM Framework | Report created: January 14, 2026 at 18:33</p>
            <p>All uncertainty intervals are 94% HDI unless otherwise noted.</p>
        </footer>
    </div>
    
    <script>
        // Color palette
        const colors = ['#5a7c65', '#8fa86a', '#6a8fa8', '#a86a8f', '#c4a35a'];
        
        // ROI Chart
        const roiData = [{"channel": "TV", "spend": 5186121.654243297, "contribution_mean": 9328823.226623371, "contribution_hdi_low": 7658462.121714275, "contribution_hdi_high": 11063827.924625862, "roi_mean": 1.7988053209261885, "roi_hdi_low": 1.4759246618942974, "roi_hdi_high": 2.1327170153700967, "prob_positive": 1.0, "prob_profitable": 1.0, "marginal_roi_mean": null, "marginal_roi_hdi_low": null, "marginal_roi_hdi_high": null}, {"channel": "Paid_Search", "spend": 3316942.1600954467, "contribution_mean": 8326091.608959002, "contribution_hdi_low": 6742213.335218124, "contribution_hdi_high": 9865201.9741517, "roi_mean": 2.5101708763952084, "roi_hdi_low": 2.031905089821585, "roi_hdi_high": 2.9740143522113818, "prob_positive": 1.0, "prob_profitable": 1.0, "marginal_roi_mean": null, "marginal_roi_hdi_low": null, "marginal_roi_hdi_high": null}, {"channel": "Paid_Social", "spend": 2791624.2840852537, "contribution_mean": 4484013.5239140475, "contribution_hdi_low": 3643876.6280651586, "contribution_hdi_high": 5276821.761941443, "roi_mean": 1.6062381852303411, "roi_hdi_low": 1.3129078952218975, "roi_hdi_high": 1.895457957598041, "prob_positive": 1.0, "prob_profitable": 1.0, "marginal_roi_mean": null, "marginal_roi_hdi_low": null, "marginal_roi_hdi_high": null}, {"channel": "Display", "spend": 1309765.6219589182, "contribution_mean": 1442653.3773370036, "contribution_hdi_low": 1174070.5613973301, "contribution_hdi_high": 1702565.2497919668, "roi_mean": 1.1014591871630706, "roi_hdi_low": 0.8921474427170781, "roi_hdi_high": 1.296230259069069, "prob_positive": 1.0, "prob_profitable": 0.834, "marginal_roi_mean": null, "marginal_roi_hdi_low": null, "marginal_roi_hdi_high": null}, {"channel": "Radio", "spend": 890335.5211700862, "contribution_mean": 801641.7727406964, "contribution_hdi_low": 649915.3770746703, "contribution_hdi_high": 952370.2180472167, "roi_mean": 0.9003816580149159, "roi_hdi_low": 0.7223780331785885, "roi_hdi_high": 1.0578907147092527, "prob_positive": 1.0, "prob_profitable": 0.137, "marginal_roi_mean": null, "marginal_roi_hdi_low": null, "marginal_roi_hdi_high": null}];
        const numChannels = roiData.length;
        Plotly.newPlot('roiChart', [{
            type: 'bar',
            x: roiData.map(d => d.channel.replace('_', ' ')),
            y: roiData.map(d => d.roi_mean),
            error_y: {
                type: 'data',
                symmetric: false,
                array: roiData.map(d => d.roi_hdi_high - d.roi_mean),
                arrayminus: roiData.map(d => d.roi_mean - d.roi_hdi_low),
                color: '#5a6b5a',
                thickness: 2,
                width: 6
            },
            marker: { color: roiData.map((d, i) => colors[i % colors.length]) },
            hovertemplate: '<b>%{x}</b><br>ROI: %{y:.2f}<br>HDI: [%{customdata[0]:.2f}, %{customdata[1]:.2f}]<extra></extra>',
            customdata: roiData.map(d => [d.roi_hdi_low, d.roi_hdi_high])
        }], {
            title: 'Channel ROI with 94% Credible Intervals',
            yaxis: { title: 'ROI (Revenue / Spend)', gridcolor: '#e5e8e0' },
            xaxis: { title: '' },
            shapes: [{ type: 'line', y0: 1, y1: 1, x0: -0.5, x1: numChannels - 0.5, line: { color: '#a65d57', dash: 'dash', width: 2 } }],
            annotations: [{ x: numChannels - 1, y: 1, text: 'Break-even', showarrow: false, yshift: 10, font: { color: '#a65d57', size: 11 } }],
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            margin: { t: 50, b: 50 }
        });
        
        // Waterfall Chart
        const decompData = [{"component": "Baseline", "total_contribution": 90971575.24560723, "contribution_hdi_low": 86422996.48332687, "contribution_hdi_high": 95520154.00788759, "pct_of_total": 0.7892349173875385, "time_series": [800000.0, 815650.514836897, 831131.6211117336, 846233.6414344275, 860751.8298528946, 874489.3795806104, 887260.323329575, 898892.2835113045, 909229.0316420805, 918132.8189633931, 925486.4435269426, 931195.0227498676, 935187.444666574, 937417.4757281552, 937864.5079623753, 936533.9335348643, 933457.1401697583, 928691.1264167336, 922317.7413106324, 914442.5584783428, 905193.4001244943, 894718.5314938006, 883184.5512872846, 870774.008029916, 857682.7764812276, 844117.2317870939, 830291.2621359223, 816423.1631596128, 802732.459170921, 789436.697525418, 776748.2629187901, 764871.2582691936, 753998.4979902628, 744308.6579436073, 735963.6241905582, 729106.0798715029, 723857.3661664866, 720315.6493806626, 718554.421808398, 718621.3592233009, 720537.5526873539, 724297.1269451804, 729867.2520479427, 737188.5491171917, 746175.8853957924, 756719.5480251125, 768686.7804186445, 938308.3917048739, 955508.7468686588, 973797.9272130027, 992932.1276685086, 1012654.5315678036, 860582.5242718445, 877328.4015623239, 893888.8974396283, 910038.5945826974, 925557.4695522435, 940234.1232984782, 953868.8942821323, 966276.8083684709, 977290.3219185509, 986761.817410106, 994565.8144313459, 1000600.8629548266, 1004791.0903574068, 1007087.3786407765, 1007468.153653208, 1005939.7737398235, 1002536.5110741619, 997320.1248634462, 990379.031587103, 981827.0833355094, 971801.9710770514, 960463.2752116682, 947990.1909866339, 934578.961178186, 920440.0528091224, 905795.118512521, 890873.786407767, 875910.3249778749, 861140.2313867154, 846796.7929208374, 833107.6717631303, 820291.5630950151, 808554.9755813951, 798089.1816301302, 789067.382457777, 781642.1299684796, 775943.0438057727, 772074.8577193927, 770115.8246612544, 770116.504854369, 772098.9555402104, 776056.3352839105, 781952.9296872286, 789724.5992141681, 799279.6436630113, 810500.0717116353, 823243.2580097766, 1004812.7574958601, 1023140.0374818668, 1042630.0416875058, 1063021.4543274618, 1084039.125749718]}, {"component": "TV", "total_contribution": 9335018.977637935, "contribution_hdi_low": 7934766.130992245, "contribution_hdi_high": 10735271.824283624, "pct_of_total": 0.08098708757912751, "time_series": [53096.06882108214, 69736.85668444038, 85072.61748922658, 100481.95331290268, 95828.49494541755, 92843.67515463942, 104668.56813376141, 104805.021493907, 97002.04316939265, 98401.70276046253, 92672.80310411876, 88795.37125246684, 91474.60482427992, 80549.6949495495, 73723.8208701601, 76818.36909214506, 75817.12052278608, 84773.96425593368, 81382.38455955502, 76303.83870711665, 95550.66953113896, 92509.59418150152, 92547.41649275809, 83659.81716522643, 83044.77726028048, 87155.67049455717, 81541.96273975036, 88559.4401552323, 85360.45490437624, 85677.71534195199, 83783.94663556121, 102810.54602276404, 98371.64062794937, 89471.06481031995, 96396.66622826198, 87231.85473173634, 90371.70600873444, 79571.38194006242, 75641.96057951442, 83471.98842152742, 92425.90244463585, 93165.98687482883, 91457.82512005582, 89421.42190380863, 81159.92310059964, 80467.23467471133, 81729.63314813416, 94274.59500364387, 95282.50022665547, 83882.24383502785, 89310.13228393596, 87463.24682110814, 84581.89261840173, 92039.21839643829, 99390.88455121727, 102473.04419857997, 93438.76133262581, 90645.88376420648, 93131.02382350547, 99520.21442958384, 93473.28404774018, 91220.88511673633, 84206.06377779023, 79125.08772231777, 90908.94340678032, 101514.0064993129, 97084.80699057234, 101742.44129922907, 100048.98868704676, 92850.99745051522, 94767.13575159085, 105048.65251571803, 99571.98028822383, 107456.26421731606, 90008.56867414937, 96454.22582464617, 94885.79055637291, 91532.60562027551, 91934.94421456223, 80249.6197038021, 83163.15586977806, 88921.06326491713, 101748.0542453788, 94586.44572868838, 88238.78783369367, 86050.87528025337, 95245.72318995302, 96000.21552045218, 90810.3750226562, 94576.02547133346, 93640.05843232984, 99750.86186299227, 92396.98144539485, 89770.70575349331, 87539.54666665701, 79953.5791221214, 86981.85166644756, 90488.89255722653, 90743.61250476517, 89159.33694320302, 81420.91523350439, 82464.4959624139, 83626.67973797552, 81414.62902935511]}, {"component": "Paid_Search", "total_contribution": 8292355.4002386145, "contribution_hdi_low": 7048502.090202822, "contribution_hdi_high": 9536208.710274406, "pct_of_total": 0.0719413334504335, "time_series": [63393.20832859749, 79434.00349067393, 97937.24792251328, 85882.83920432022, 82848.17118478364, 78759.31405083968, 60914.32231943652, 74196.05965482879, 77940.228101023, 103276.47997266897, 85049.83763815704, 83058.79928958675, 79206.579494996, 67387.1287264661, 88329.33314956284, 88342.93440142351, 88729.63355314752, 72914.33335936641, 91999.12624715187, 70142.10995803274, 82700.88849070188, 101315.27019062047, 77758.88392023121, 72551.24236172868, 77979.50840830519, 73221.48413770588, 62155.61621607118, 75483.47902730222, 67211.57320512465, 80908.64247766174, 70170.85181395803, 93166.23618548956, 75694.45564909867, 74401.33577926352, 85954.29758208523, 69146.36394121224, 78611.38289301157, 91925.4855983405, 68513.7373492381, 78019.44168165218, 80895.69929561777, 86928.35555550929, 69454.58187447308, 63108.57045795984, 80699.78173098867, 81913.5954506257, 81743.24450055325, 82669.77418798198, 72922.07400021868, 79459.46593388858, 81576.15979975233, 72265.5636935856, 96764.90861346081, 88149.1122595986, 70297.24718607544, 83488.33800969299, 70508.89236317102, 84948.7474180248, 91609.56894147827, 74763.86641621748, 87621.4544515941, 84837.86317039504, 88206.84442148196, 99393.3451357035, 82834.42043682774, 72293.67085817455, 67933.94874956648, 67510.75977425977, 75004.4754953931, 81061.18819651505, 81795.92518915483, 87586.7476047047, 80962.2738566695, 93834.07484877398, 80462.6610696761, 105824.87474921774, 92924.99059864206, 74972.93338071159, 66982.76092215527, 80963.69294775785, 76778.60502943753, 85364.27544415244, 84843.24707604355, 79334.9024541108, 70352.77316849328, 61612.78161974142, 69809.88056302324, 85581.05409278377, 82339.34007198995, 67743.38532444111, 77738.0961123934, 82128.85098521055, 70881.34424989487, 78186.60341338688, 78869.85953001198, 67509.68050517187, 79697.48344368693, 84385.83805253723, 90734.72106217133, 91867.37828815395, 70276.96067510245, 66928.13221063095, 81312.11671950358, 84269.7696439142]}, {"component": "Paid_Social", "total_contribution": 4466598.854536406, "contribution_hdi_low": 3796609.0263559446, "contribution_hdi_high": 5136588.682716866, "pct_of_total": 0.03875051925225991, "time_series": [31936.478160130926, 65031.229121796416, 55525.47282729199, 53349.72800941417, 51458.566960264114, 49059.90728884695, 43262.74993694743, 46392.68959685278, 39980.83902044596, 39673.34399986172, 38340.493996971, 40727.04855498792, 55584.190482251666, 40920.237886790455, 45105.18736025681, 36038.79394733372, 36950.42525598104, 46225.69969489026, 43804.60865192942, 37493.3664505259, 36334.247664912786, 43463.61593031583, 38826.44049803195, 41658.32925241432, 41828.167673217955, 38462.840514599535, 53796.903978917, 49992.870814170135, 37203.482931936276, 40881.29390129009, 38016.40023725423, 45087.73906270933, 39291.95071991314, 40054.23954534064, 43727.92380917222, 47172.92697835025, 38618.57343822263, 38658.988516876896, 37980.83221768084, 36836.91942385434, 50712.64402324318, 47462.37908165034, 38521.13552267565, 45659.69992576203, 55659.112126636646, 52860.95668272714, 40446.60329932955, 38670.720447968764, 47914.00157820954, 40979.552365646465, 43735.42656722497, 46644.91257815679, 39442.60542660925, 40395.86514157172, 28657.68679514823, 31399.464259725424, 36337.57080191439, 33475.044691671166, 48841.40875591719, 38590.01594046124, 38125.230808278815, 40917.97807116403, 49767.22418499792, 39058.908145634196, 47381.03885654388, 44036.19193757444, 37994.02327175764, 42747.29698860823, 43072.451103895204, 39244.092502558145, 41004.90166137226, 39384.09006585249, 41296.19131148166, 45099.649737188825, 52036.22641939577, 40978.59518362698, 54398.35018301481, 39954.26362207398, 40122.25452333052, 44245.22839909666, 44104.863951053085, 39595.47140528733, 39683.41184913179, 38313.76509336782, 37271.575743136564, 44824.94073847627, 44744.15468704751, 39568.904256018635, 45905.38197300691, 44919.95282444196, 47310.654394538375, 47214.61967097172, 40135.444195120624, 38171.96578116657, 44497.9212546435, 46004.32763516247, 43279.82607219485, 42851.98370255311, 49353.058734252874, 42167.389725575835, 44763.37447742729, 41861.32496473204, 40558.67746454763, 47469.12663990414]}, {"component": "Display", "total_contribution": 1440742.1841548102, "contribution_hdi_low": 1224630.8565315886, "contribution_hdi_high": 1656853.5117780315, "pct_of_total": 0.01249933328754874, "time_series": [14562.502936394048, 17057.66630777003, 18531.678346454337, 17107.598729916434, 17552.913035438338, 16193.062860229316, 16673.797487830405, 16109.461690359441, 7886.6174793342825, 3136.3174486239873, 11142.230001402762, 18831.131865864856, 15893.421247767792, 14140.86278597662, 6510.364742874883, 2523.3859387283337, 14408.931549201978, 16683.926404309586, 16298.330596936732, 14779.730283404188, 15803.738831910925, 14913.84435602686, 17433.314513785066, 16384.892150407548, 14924.367052772212, 15168.922102023289, 16508.352729180708, 15371.306791213237, 7344.803315763305, 14341.650208153416, 15972.505748954689, 15246.06316123811, 15033.647894373957, 16153.106889770874, 13924.729687613199, 13049.901782674586, 13872.312374042514, 15016.0399706573, 7095.467939983736, 2780.6033806681257, 1010.6023392342526, 12251.975826635042, 5364.852769939572, 11248.276641488494, 14655.298364181297, 15134.641253675427, 16342.252583040445, 14905.395411069092, 16621.64821239213, 18784.586768379344, 17046.957578397934, 8633.367968844657, 15561.074860053395, 15261.142724254218, 16208.421733194302, 7963.4500930056565, 3172.0184103507013, 11248.340660383134, 14739.564201095276, 16537.964208117864, 18633.179953938572, 18493.449441044646, 9945.784207306004, 12867.159501893282, 16774.40077338834, 8409.283335706989, 18705.348400033352, 16071.937496975814, 7857.461957051083, 12661.167774998281, 11498.156194450272, 13750.649794387467, 14032.076792996497, 15715.794572705896, 16549.273669012615, 19312.742900105288, 18740.460803964288, 16393.291412656876, 14820.768794835985, 16548.596714678773, 8228.416603298514, 17953.850714565786, 18591.546870646962, 16457.655839660267, 13712.36887964402, 17856.345646243113, 9339.404236720518, 16857.290236598717, 14069.491179309105, 14409.322988992144, 15566.01207130837, 16004.332043131033, 7808.983162734429, 15263.804622502541, 14097.459352534619, 15210.277838163483, 7232.076994299655, 14920.271637953345, 16965.562865720636, 14754.955750344347, 13192.748111032888, 17612.53249470473, 9119.806714837909, 12681.347579968466]}, {"component": "Radio", "total_contribution": 801301.9690530776, "contribution_hdi_low": 681106.673695116, "contribution_hdi_high": 921497.2644110392, "pct_of_total": 0.00695179226742713, "time_series": [7492.122701801951, 4385.007308764596, 5845.933491806913, 7254.325032747023, 7304.7706540143545, 6955.654662721886, 8844.379663241676, 10590.16556873654, 8883.038526450206, 9301.59928942474, 8544.927305913861, 8251.250645111058, 8019.683011263389, 7695.140464525164, 8276.059044504043, 7841.002751180772, 8552.123374184801, 8601.635916657504, 8476.613315089524, 7904.547340195768, 4665.313232539925, 7806.57623847404, 8749.60783110273, 8007.072678514434, 8468.800229763006, 9277.646118459857, 7883.092438502827, 8826.220346844717, 8281.013024235634, 9021.8170813176, 8303.692205747016, 7222.449479522127, 6730.537423744916, 7845.964358986033, 8545.0438298727, 5135.995213707858, 7837.453168184284, 7040.219327543573, 4055.869763837581, 5542.66952976119, 6684.806007057081, 7828.466981535971, 7593.140651740554, 7867.617033734998, 4631.872355882303, 6364.513438266698, 8521.91457729443, 5126.52944629461, 7710.552668511233, 9673.846153411834, 7733.163760702944, 7594.999504765463, 8743.589670778216, 8577.67831709347, 8975.22027044852, 8404.824734407086, 8645.409574632607, 8557.944106717949, 5157.647593396599, 7419.362965516373, 8422.83542508811, 8246.566480908006, 8094.650255645208, 8064.778358817617, 8763.436195386157, 8416.582047882073, 5058.621825450212, 9600.338795905034, 9900.085789086836, 9113.194874871939, 5583.965730025937, 6923.395695952259, 3969.743087660507, 5680.705614294175, 5791.20976905966, 7052.324884345351, 4054.7570303216544, 8786.146080507433, 9048.490567624392, 8723.149892061634, 9472.397644944942, 7722.544477879562, 4538.649225438784, 7779.477950884706, 7143.387582699087, 4110.927362484672, 7117.483785273275, 7603.755389266346, 8788.464691613513, 10945.949488405715, 10091.652932786485, 9638.5439595104, 8871.748628719724, 8172.84891359137, 9224.84176589976, 8357.99154270427, 8609.529100894826, 8280.453777626362, 8938.460968877323, 9116.79241169574, 5586.716278271396, 6831.038602783475, 7595.12203682074, 7388.078731924194]}];
        const waterfallX = decompData.map(d => d.component.replace('_', ' '));
        const waterfallY = decompData.map(d => d.total_contribution / 1e6);
        
        Plotly.newPlot('waterfallChart', [{
            type: 'waterfall',
            x: waterfallX,
            y: waterfallY,
            measure: waterfallX.map((x, i) => i === 0 ? 'absolute' : 'relative'),
            connector: { line: { color: '#d4ddd4' } },
            decreasing: { marker: { color: '#a65d57' } },
            increasing: { marker: { color: '#5a7c65' } },
            totals: { marker: { color: '#6a8fa8' } },
            textposition: 'outside',
            text: waterfallY.map(v => '$' + v.toFixed(1) + 'M'),
            hovertemplate: '<b>%{x}</b><br>$%{y:.2f}M<extra></extra>'
        }], {
            title: 'Revenue Decomposition (Waterfall)',
            yaxis: { title: 'Revenue ($M)', gridcolor: '#e5e8e0' },
            showlegend: false,
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            margin: { t: 50, b: 80 } 
       });
        
        // Time Series Decomposition
        const dates = ["2023-01-02", "2023-01-09", "2023-01-16", "2023-01-23", "2023-01-30", "2023-02-06", "2023-02-13", "2023-02-20", "2023-02-27", "2023-03-06", "2023-03-13", "2023-03-20", "2023-03-27", "2023-04-03", "2023-04-10", "2023-04-17", "2023-04-24", "2023-05-01", "2023-05-08", "2023-05-15", "2023-05-22", "2023-05-29", "2023-06-05", "2023-06-12", "2023-06-19", "2023-06-26", "2023-07-03", "2023-07-10", "2023-07-17", "2023-07-24", "2023-07-31", "2023-08-07", "2023-08-14", "2023-08-21", "2023-08-28", "2023-09-04", "2023-09-11", "2023-09-18", "2023-09-25", "2023-10-02", "2023-10-09", "2023-10-16", "2023-10-23", "2023-10-30", "2023-11-06", "2023-11-13", "2023-11-20", "2023-11-27", "2023-12-04", "2023-12-11", "2023-12-18", "2023-12-25", "2024-01-01", "2024-01-08", "2024-01-15", "2024-01-22", "2024-01-29", "2024-02-05", "2024-02-12", "2024-02-19", "2024-02-26", "2024-03-04", "2024-03-11", "2024-03-18", "2024-03-25", "2024-04-01", "2024-04-08", "2024-04-15", "2024-04-22", "2024-04-29", "2024-05-06", "2024-05-13", "2024-05-20", "2024-05-27", "2024-06-03", "2024-06-10", "2024-06-17", "2024-06-24", "2024-07-01", "2024-07-08", "2024-07-15", "2024-07-22", "2024-07-29", "2024-08-05", "2024-08-12", "2024-08-19", "2024-08-26", "2024-09-02", "2024-09-09", "2024-09-16", "2024-09-23", "2024-09-30", "2024-10-07", "2024-10-14", "2024-10-21", "2024-10-28", "2024-11-04", "2024-11-11", "2024-11-18", "2024-11-25", "2024-12-02", "2024-12-09", "2024-12-16", "2024-12-23"];
        const baselineData = [0.8, 0.815650514836897, 0.8311316211117336, 0.8462336414344275, 0.8607518298528947, 0.8744893795806105, 0.887260323329575, 0.8988922835113046, 0.9092290316420805, 0.918132818963393, 0.9254864435269426, 0.9311950227498677, 0.935187444666574, 0.9374174757281553, 0.9378645079623753, 0.9365339335348644, 0.9334571401697583, 0.9286911264167336, 0.9223177413106325, 0.9144425584783429, 0.9051934001244943, 0.8947185314938005, 0.8831845512872846, 0.870774008029916, 0.8576827764812276, 0.844117231787094, 0.8302912621359223, 0.8164231631596128, 0.802732459170921, 0.789436697525418, 0.7767482629187901, 0.7648712582691936, 0.7539984979902629, 0.7443086579436073, 0.7359636241905582, 0.7291060798715029, 0.7238573661664867, 0.7203156493806626, 0.718554421808398, 0.718621359223301, 0.7205375526873539, 0.7242971269451803, 0.7298672520479427, 0.7371885491171917, 0.7461758853957924, 0.7567195480251124, 0.7686867804186446, 0.9383083917048739, 0.9555087468686588, 0.9737979272130027, 0.9929321276685086, 1.0126545315678035, 0.8605825242718446, 0.877328401562324, 0.8938888974396283, 0.9100385945826974, 0.9255574695522435, 0.9402341232984782, 0.9538688942821323, 0.9662768083684709, 0.9772903219185509, 0.9867618174101059, 0.994565814431346, 1.0006008629548266, 1.0047910903574067, 1.0070873786407766, 1.007468153653208, 1.0059397737398235, 1.0025365110741618, 0.9973201248634462, 0.990379031587103, 0.9818270833355094, 0.9718019710770514, 0.9604632752116682, 0.9479901909866338, 0.934578961178186, 0.9204400528091223, 0.905795118512521, 0.8908737864077669, 0.8759103249778749, 0.8611402313867155, 0.8467967929208374, 0.8331076717631304, 0.8202915630950152, 0.8085549755813951, 0.7980891816301302, 0.7890673824577771, 0.7816421299684796, 0.7759430438057727, 0.7720748577193928, 0.7701158246612544, 0.770116504854369, 0.7720989555402104, 0.7760563352839105, 0.7819529296872286, 0.7897245992141682, 0.7992796436630113, 0.8105000717116353, 0.8232432580097766, 1.00481275749586, 1.0231400374818669, 1.0426300416875058, 1.0630214543274619, 1.084039125749718];
        const contributionsData = {"TV": [0.053096068821082136, 0.06973685668444038, 0.08507261748922658, 0.10048195331290269, 0.09582849494541755, 0.09284367515463943, 0.10466856813376141, 0.104805021493907, 0.09700204316939265, 0.09840170276046253, 0.09267280310411877, 0.08879537125246684, 0.09147460482427991, 0.0805496949495495, 0.07372382087016009, 0.07681836909214507, 0.07581712052278608, 0.08477396425593368, 0.08138238455955503, 0.07630383870711666, 0.09555066953113896, 0.09250959418150152, 0.09254741649275809, 0.08365981716522643, 0.08304477726028048, 0.08715567049455716, 0.08154196273975037, 0.0885594401552323, 0.08536045490437624, 0.085677715341952, 0.08378394663556121, 0.10281054602276404, 0.09837164062794937, 0.08947106481031995, 0.09639666622826198, 0.08723185473173634, 0.09037170600873444, 0.07957138194006241, 0.07564196057951442, 0.08347198842152742, 0.09242590244463585, 0.09316598687482883, 0.09145782512005582, 0.08942142190380863, 0.08115992310059963, 0.08046723467471133, 0.08172963314813417, 0.09427459500364388, 0.09528250022665546, 0.08388224383502785, 0.08931013228393596, 0.08746324682110815, 0.08458189261840174, 0.09203921839643829, 0.09939088455121727, 0.10247304419857997, 0.09343876133262581, 0.09064588376420647, 0.09313102382350547, 0.09952021442958384, 0.09347328404774018, 0.09122088511673633, 0.08420606377779023, 0.07912508772231777, 0.09090894340678032, 0.1015140064993129, 0.09708480699057234, 0.10174244129922907, 0.10004898868704676, 0.09285099745051523, 0.09476713575159085, 0.10504865251571803, 0.09957198028822382, 0.10745626421731605, 0.09000856867414937, 0.09645422582464618, 0.09488579055637292, 0.09153260562027551, 0.09193494421456223, 0.08024961970380211, 0.08316315586977806, 0.08892106326491712, 0.10174805424537879, 0.09458644572868838, 0.08823878783369367, 0.08605087528025337, 0.09524572318995302, 0.09600021552045218, 0.0908103750226562, 0.09457602547133345, 0.09364005843232984, 0.09975086186299227, 0.09239698144539485, 0.08977070575349332, 0.08753954666665702, 0.07995357912212141, 0.08698185166644756, 0.09048889255722653, 0.09074361250476518, 0.08915933694320302, 0.08142091523350439, 0.0824644959624139, 0.08362667973797551, 0.08141462902935512], "Paid_Search": [0.06339320832859749, 0.07943400349067394, 0.09793724792251328, 0.08588283920432022, 0.08284817118478364, 0.07875931405083968, 0.06091432231943652, 0.07419605965482878, 0.07794022810102301, 0.10327647997266896, 0.08504983763815704, 0.08305879928958675, 0.079206579494996, 0.0673871287264661, 0.08832933314956283, 0.0883429344014235, 0.08872963355314752, 0.07291433335936641, 0.09199912624715187, 0.07014210995803274, 0.08270088849070188, 0.10131527019062048, 0.07775888392023121, 0.07255124236172869, 0.0779795084083052, 0.07322148413770588, 0.062155616216071186, 0.07548347902730222, 0.06721157320512465, 0.08090864247766173, 0.07017085181395803, 0.09316623618548955, 0.07569445564909867, 0.07440133577926353, 0.08595429758208523, 0.06914636394121225, 0.07861138289301157, 0.0919254855983405, 0.0685137373492381, 0.07801944168165219, 0.08089569929561777, 0.08692835555550929, 0.06945458187447308, 0.06310857045795984, 0.08069978173098867, 0.0819135954506257, 0.08174324450055324, 0.08266977418798198, 0.07292207400021868, 0.07945946593388858, 0.08157615979975233, 0.0722655636935856, 0.0967649086134608, 0.0881491122595986, 0.07029724718607544, 0.08348833800969299, 0.07050889236317102, 0.0849487474180248, 0.09160956894147827, 0.07476386641621749, 0.0876214544515941, 0.08483786317039503, 0.08820684442148197, 0.0993933451357035, 0.08283442043682775, 0.07229367085817455, 0.06793394874956649, 0.06751075977425977, 0.0750044754953931, 0.08106118819651505, 0.08179592518915484, 0.0875867476047047, 0.0809622738566695, 0.09383407484877397, 0.0804626610696761, 0.10582487474921773, 0.09292499059864207, 0.07497293338071159, 0.06698276092215527, 0.08096369294775785, 0.07677860502943754, 0.08536427544415244, 0.08484324707604356, 0.07933490245411079, 0.07035277316849328, 0.06161278161974142, 0.06980988056302324, 0.08558105409278377, 0.08233934007198995, 0.06774338532444112, 0.07773809611239339, 0.08212885098521056, 0.07088134424989487, 0.07818660341338689, 0.07886985953001198, 0.06750968050517187, 0.07969748344368693, 0.08438583805253723, 0.09073472106217133, 0.09186737828815396, 0.07027696067510246, 0.06692813221063096, 0.08131211671950359, 0.08426976964391421], "Paid_Social": [0.03193647816013093, 0.06503122912179642, 0.05552547282729199, 0.05334972800941417, 0.051458566960264115, 0.04905990728884695, 0.04326274993694743, 0.04639268959685278, 0.039980839020445955, 0.03967334399986172, 0.038340493996971, 0.040727048554987925, 0.05558419048225167, 0.04092023788679046, 0.04510518736025681, 0.03603879394733372, 0.036950425255981044, 0.04622569969489026, 0.04380460865192942, 0.0374933664505259, 0.036334247664912785, 0.04346361593031583, 0.03882644049803195, 0.04165832925241432, 0.04182816767321795, 0.038462840514599535, 0.053796903978916996, 0.049992870814170136, 0.037203482931936274, 0.04088129390129009, 0.03801640023725423, 0.045087739062709326, 0.03929195071991314, 0.04005423954534064, 0.043727923809172224, 0.04717292697835025, 0.03861857343822263, 0.038658988516876894, 0.037980832217680845, 0.03683691942385434, 0.05071264402324318, 0.04746237908165034, 0.03852113552267565, 0.04565969992576203, 0.05565911212663665, 0.05286095668272714, 0.04044660329932955, 0.038670720447968765, 0.04791400157820954, 0.04097955236564647, 0.04373542656722497, 0.04664491257815679, 0.03944260542660925, 0.040395865141571716, 0.02865768679514823, 0.031399464259725424, 0.036337570801914396, 0.03347504469167117, 0.04884140875591719, 0.03859001594046124, 0.038125230808278815, 0.04091797807116403, 0.04976722418499792, 0.039058908145634195, 0.04738103885654388, 0.04403619193757444, 0.03799402327175764, 0.04274729698860823, 0.0430724511038952, 0.03924409250255814, 0.041004901661372266, 0.039384090065852494, 0.04129619131148166, 0.04509964973718882, 0.052036226419395766, 0.04097859518362698, 0.05439835018301481, 0.03995426362207398, 0.04012225452333052, 0.04424522839909666, 0.044104863951053085, 0.03959547140528733, 0.039683411849131794, 0.03831376509336782, 0.03727157574313656, 0.04482494073847627, 0.044744154687047503, 0.03956890425601864, 0.045905381973006906, 0.044919952824441965, 0.047310654394538375, 0.04721461967097172, 0.04013544419512063, 0.038171965781166564, 0.044497921254643504, 0.046004327635162476, 0.043279826072194855, 0.04285198370255311, 0.04935305873425287, 0.042167389725575835, 0.044763374477427294, 0.04186132496473204, 0.04055867746454763, 0.047469126639904144], "Display": [0.014562502936394049, 0.017057666307770027, 0.018531678346454337, 0.017107598729916434, 0.017552913035438336, 0.016193062860229316, 0.016673797487830405, 0.016109461690359442, 0.007886617479334283, 0.0031363174486239874, 0.011142230001402763, 0.018831131865864856, 0.015893421247767794, 0.01414086278597662, 0.0065103647428748825, 0.0025233859387283337, 0.014408931549201977, 0.016683926404309588, 0.016298330596936732, 0.014779730283404187, 0.015803738831910923, 0.01491384435602686, 0.017433314513785065, 0.01638489215040755, 0.014924367052772211, 0.015168922102023289, 0.01650835272918071, 0.015371306791213237, 0.007344803315763306, 0.014341650208153416, 0.015972505748954688, 0.015246063161238109, 0.015033647894373958, 0.016153106889770875, 0.0139247296876132, 0.013049901782674586, 0.013872312374042515, 0.015016039970657301, 0.007095467939983736, 0.002780603380668126, 0.0010106023392342527, 0.012251975826635042, 0.005364852769939572, 0.011248276641488494, 0.014655298364181297, 0.015134641253675427, 0.016342252583040444, 0.014905395411069092, 0.01662164821239213, 0.018784586768379345, 0.017046957578397935, 0.008633367968844657, 0.015561074860053396, 0.015261142724254217, 0.0162084217331943, 0.007963450093005657, 0.0031720184103507013, 0.011248340660383134, 0.014739564201095276, 0.016537964208117865, 0.018633179953938574, 0.018493449441044647, 0.009945784207306003, 0.012867159501893282, 0.01677440077338834, 0.008409283335706988, 0.01870534840003335, 0.016071937496975813, 0.007857461957051084, 0.012661167774998282, 0.011498156194450273, 0.013750649794387467, 0.014032076792996498, 0.015715794572705895, 0.016549273669012616, 0.019312742900105286, 0.018740460803964288, 0.016393291412656875, 0.014820768794835985, 0.016548596714678773, 0.008228416603298514, 0.017953850714565785, 0.01859154687064696, 0.016457655839660267, 0.01371236887964402, 0.017856345646243114, 0.009339404236720519, 0.016857290236598717, 0.014069491179309106, 0.014409322988992144, 0.015566012071308371, 0.016004332043131033, 0.0078089831627344295, 0.015263804622502541, 0.01409745935253462, 0.015210277838163484, 0.007232076994299655, 0.014920271637953345, 0.016965562865720638, 0.014754955750344346, 0.013192748111032888, 0.01761253249470473, 0.009119806714837909, 0.012681347579968466], "Radio": [0.007492122701801951, 0.004385007308764596, 0.005845933491806912, 0.007254325032747023, 0.007304770654014354, 0.0069556546627218855, 0.008844379663241676, 0.01059016556873654, 0.008883038526450206, 0.00930159928942474, 0.008544927305913861, 0.008251250645111058, 0.00801968301126339, 0.0076951404645251645, 0.008276059044504043, 0.007841002751180772, 0.008552123374184801, 0.008601635916657503, 0.008476613315089523, 0.007904547340195769, 0.004665313232539925, 0.00780657623847404, 0.00874960783110273, 0.008007072678514434, 0.008468800229763006, 0.009277646118459857, 0.007883092438502827, 0.008826220346844717, 0.008281013024235633, 0.0090218170813176, 0.008303692205747016, 0.0072224494795221274, 0.006730537423744916, 0.007845964358986034, 0.0085450438298727, 0.005135995213707858, 0.007837453168184284, 0.007040219327543573, 0.004055869763837581, 0.00554266952976119, 0.006684806007057081, 0.007828466981535971, 0.007593140651740554, 0.007867617033734998, 0.004631872355882303, 0.006364513438266699, 0.00852191457729443, 0.00512652944629461, 0.007710552668511232, 0.009673846153411833, 0.007733163760702945, 0.007594999504765463, 0.008743589670778215, 0.008577678317093471, 0.00897522027044852, 0.008404824734407085, 0.008645409574632607, 0.008557944106717948, 0.0051576475933966, 0.007419362965516373, 0.008422835425088109, 0.008246566480908006, 0.008094650255645208, 0.008064778358817618, 0.008763436195386156, 0.008416582047882074, 0.005058621825450212, 0.009600338795905035, 0.009900085789086835, 0.009113194874871939, 0.005583965730025937, 0.006923395695952259, 0.003969743087660507, 0.005680705614294175, 0.00579120976905966, 0.007052324884345351, 0.004054757030321654, 0.008786146080507432, 0.009048490567624393, 0.008723149892061634, 0.009472397644944942, 0.007722544477879562, 0.004538649225438784, 0.007779477950884706, 0.007143387582699087, 0.004110927362484672, 0.007117483785273275, 0.007603755389266346, 0.008788464691613514, 0.010945949488405715, 0.010091652932786485, 0.0096385439595104, 0.008871748628719724, 0.00817284891359137, 0.009224841765899761, 0.00835799154270427, 0.008609529100894827, 0.008280453777626363, 0.008938460968877323, 0.00911679241169574, 0.005586716278271396, 0.006831038602783474, 0.007595122036820739, 0.007388078731924193]};
        const timeSeriesTraces = [];
        
        // Add baseline
        timeSeriesTraces.push({
            x: dates,
            y: baselineData,
            name: 'Baseline',
            stackgroup: 'one',
            fillcolor: 'rgba(90, 124, 101, 0.7)'
        });
        
        // Add media contributions
        const channelColors = {'TV': 'rgba(143, 168, 106, 0.7)', 'Paid_Search': 'rgba(106, 143, 168, 0.7)', 
                               'Paid_Social': 'rgba(168, 106, 143, 0.7)', 'Display': 'rgba(196, 163, 90, 0.7)',
                               'Radio': 'rgba(166, 93, 87, 0.7)'};
        
        Object.keys(contributionsData).forEach(ch => {
            timeSeriesTraces.push({
                x: dates,
                y: contributionsData[ch],
                name: ch.replace('_', ' '),
                stackgroup: 'one',
                fillcolor: channelColors[ch]
            });
        });
        
        Plotly.newPlot('timeSeriesChart', timeSeriesTraces, {
            title: 'Revenue Components Over Time',
            yaxis: { title: 'Revenue ($M)', gridcolor: '#e5e8e0' },
            xaxis: { title: '' },
            legend: { orientation: 'h', y: -0.15 },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            margin: { t: 50, b: 100 }
        });
        
        // Saturation Charts
        const satData = {"TV": {"channel": "TV", "spend": [0.0, 1320.554492876489, 2641.108985752978, 3961.6634786294667, 5282.217971505956, 6602.772464382444, 7923.326957258933, 9243.881450135423, 10564.435943011911, 11884.9904358884, 13205.544928764888, 14526.099421641378, 15846.653914517867, 17167.208407394355, 18487.762900270845, 19808.317393147332, 21128.871886023822, 22449.426378900313, 23769.9808717768, 25090.53536465329, 26411.089857529776, 27731.644350406266, 29052.198843282757, 30372.753336159243, 31693.307829035733, 33013.862321912224, 34334.41681478871, 35654.9713076652, 36975.52580054169, 38296.08029341818, 39616.634786294664, 40937.18927917116, 42257.743772047645, 43578.29826492413, 44898.852757800625, 46219.40725067711, 47539.9617435536, 48860.51623643009, 50181.07072930658, 51501.625222183065, 52822.17971505955, 54142.734207936046, 55463.28870081253, 56783.84319368902, 58104.39768656551, 59424.952179442, 60745.50667231849, 62066.06116519498, 63386.61565807147, 64707.17015094795, 66027.72464382445, 67348.27913670093, 68668.83362957742, 69989.3881224539, 71309.9426153304, 72630.4971082069, 73951.05160108338, 75271.60609395987, 76592.16058683635, 77912.71507971284, 79233.26957258933, 80553.82406546583, 81874.37855834232, 83194.9330512188, 84515.48754409529, 85836.04203697178, 87156.59652984826, 88477.15102272475, 89797.70551560125, 91118.26000847774, 92438.81450135422, 93759.36899423071, 95079.9234871072, 96400.47797998368, 97721.03247286018, 99041.58696573667, 100362.14145861316, 101682.69595148964, 103003.25044436613, 104323.80493724262, 105644.3594301191, 106964.9139229956, 108285.46841587209, 109606.02290874858, 110926.57740162507, 112247.13189450155, 113567.68638737804, 114888.24088025454, 116208.79537313103, 117529.34986600751, 118849.904358884, 120170.45885176049, 121491.01334463697, 122811.56783751347, 124132.12233038996, 125452.67682326645, 126773.23131614293, 128093.78580901942, 129414.3403018959, 130734.89479477241], "response_mean": [0.0, 279.1682388690583, 552.5570323151092, 820.3016407645206, 1082.5338095537109, 1339.3818688995107, 1590.9708307975022, 1837.422482949137, 2078.8554798149653, 2315.3854308879086, 2547.1249862772524, 2774.1839196909623, 2996.6692089008643, 3214.6851137723384, 3428.333251937336, 3637.7126721869636, 3842.919925657019, 4044.0491348776995, 4241.192060755894, 4434.438167556488, 4623.874685946634, 4809.586674164839, 4991.657077374629, 5170.166785260617, 5345.194687922579, 5516.817730121633, 5685.110963930559, 5850.14759983858, 6011.999056359296, 6170.735008188874, 6326.423432959831, 6479.130656634465, 6628.921397580433, 6775.858809369506, 6920.00452233923, 7061.4186839559725, 7200.15999801638, 7336.285762723284, 7469.851907670624, 7600.913029771315, 7729.522428159999, 7855.732138102774, 7979.592963943754, 8101.154511118125, 8220.465217260258, 8337.572382434046, 8452.522198512534, 8565.359777732354, 8676.129180447904, 8784.873442109589, 8891.634599489342, 8996.453716176076, 9099.37090736298, 9200.425363947861, 9299.655375966946, 9397.09835538213, 9492.790858240898, 9586.768606227344, 9679.06650762259, 9769.718677691873, 9858.758458515242, 9946.218438278343, 10032.130470038943, 10116.525689984786, 10199.434535197515, 10280.886760937132, 10360.911457460854, 10439.537066390154, 10516.791396638746, 10592.701639914505, 10667.294385807516, 10740.595636476108, 10812.63082094266, 10883.424809010094, 10953.001924810096, 11021.38595999367, 11088.600186573874, 11154.667369431205, 11219.609778490587, 11283.449200579736, 11346.206950977717, 11407.903884662494, 11468.560407265893, 11528.19648574426, 11586.831658772759, 11644.485046871145, 11701.175362268317, 11756.920918513048, 11811.739639838093, 11865.64907028421, 11918.666382590978, 11970.808386860845, 12022.09153900262, 12072.531948960326, 12122.145388733697, 12170.947300195507, 12218.952802711943, 12266.176700570746, 12312.633490222708, 12358.337367341683], "response_hdi_low": [0.0, 98.90696805581605, 197.03914242449213, 294.40259538691254, 391.0033516138698, 486.8473885394871, 581.9406367317188, 676.2889802599382, 769.8982570596424, 862.7742592943008, 954.9227337143575, 1046.349382013418, 1137.0598611816497, 1227.0597838563951, 1316.3547186700516, 1405.204438074458, 1493.8053003795037, 1581.795832212227, 1669.1802404406396, 1755.9627029155554, 1842.1473686708935, 1927.738358122605, 2012.7397632662164, 2097.15564787302, 2180.9900476848948, 2264.24697060779, 2346.930396903879, 2429.0442793823568, 2510.5925435889653, 2591.5790879941615, 2672.0077841800176, 2751.882477025818, 2831.2069848923775, 2909.985099805082, 2988.2205876356657, 3065.9171882827372, 3143.078615851055, 3219.708558829561, 3295.810680268192, 3371.388617953461, 3446.4459845828324, 3520.986367937893, 3595.013331056318, 3668.5304124026566, 3741.541126037936, 3814.0489617880994, 3886.0573854112645, 3957.569838763845, 4028.5897399655146, 4099.12048356303, 4168.628061769173, 4236.915347607027, 4304.686149614404, 4371.9443743489455, 4438.693898818593, 4504.938570705107, 4570.68220858591, 4635.92860215425, 4700.681512437687, 4764.944672014941, 4828.721785231088, 4892.016528411141, 4954.832550071998, 5017.173471132809, 5079.042885123719, 5140.444358393077, 5201.381430313028, 5261.857613483596, 5321.876393935178, 5381.4412313295525, 5440.555559159327, 5499.2227849459, 5557.446290435921, 5615.229431796259, 5672.575539807504, 5729.487920055995, 5785.969853124405, 5842.024594780879, 5897.655376166738, 5952.865403982777, 6007.657860674133, 6062.035904613771, 6100.872861534021, 6135.100392645334, 6168.760023607879, 6201.861300945317, 6234.413609702929, 6266.42617618696, 6300.094561947188, 6348.910247853653, 6397.601114637998, 6446.430284936153, 6494.880291509699, 6542.954091910997, 6590.654620555592, 6643.336892960719, 6697.577196355775, 6751.542497354153, 6805.234201468345, 6858.6537069403785], "response_hdi_high": [0.0, 558.651913551698, 1101.9972423598367, 1630.4099475412622, 2144.3167819991622, 2644.117039698692, 3124.7569503710124, 3583.08369257231, 4024.9590518609693, 4451.079262279824, 4862.070264086497, 5258.469293262405, 5640.7945059620315, 6009.545656217094, 6365.737354747289, 6736.049668937805, 7096.642712747836, 7447.772089174832, 7789.686662500631, 8117.491327783208, 8418.361679764095, 8708.225772021753, 8988.335802567988, 9245.111670982904, 9489.983546174246, 9725.587632712553, 9952.274879414821, 10222.306399191151, 10487.67492566152, 10710.800566896929, 10926.637879565978, 11135.425883593389, 11358.673336478707, 11579.77748123389, 11795.040183042016, 11961.093633152004, 12163.366472639424, 12360.236384588918, 12551.847689486, 12738.340852731475, 12919.852587620037, 13096.515955567953, 13268.460463663421, 13435.81215961107, 13598.693724140252, 13757.224560944798, 13911.520884220321, 14061.695803863056, 14207.859408392902, 14350.118845661282, 14488.578401403143, 14623.339575690561, 14754.50115734413, 14882.15929635655, 15006.407574381647, 15127.337073340415, 15244.389637204451, 15357.770157975297, 15468.096186848052, 15571.562041390927, 15649.738171006764, 15742.855820212717, 15805.153409174594, 15864.262829477404, 15921.036001679002, 15975.636932978769, 16028.148797029507, 16078.651580826985, 16127.222206867544, 16175.659623810567, 16234.04444595046, 16319.70014029003, 16403.274940324813, 16484.81953347552, 16564.383368066563, 16642.01468376187, 16714.197610812313, 16761.503378989273, 16807.263726022684, 16851.52931117495, 16893.77885092524, 16933.73467440416, 16972.36106293607, 17009.702338177463, 17045.801340170627, 17073.937288919722, 17089.51914347608, 17104.403088363295, 17118.620533664503, 17132.20147074025, 17169.838176431287, 17223.113318418644, 17275.1319969695, 17325.67749853086, 17352.617223519603, 17378.679986549698, 17403.894468325943, 17458.65467931452, 17525.299340576566, 17573.459896559827], "current_spend": 49866.554367724006, "current_response": 7469.851907670624, "saturation_level": 0.6044382578040441, "marginal_response_at_current": 0.10019551198966781}, "Paid_Search": {"channel": "Paid_Search", "spend": [0.0, 1027.9776130556372, 2055.9552261112744, 3083.9328391669114, 4111.910452222549, 5139.888065278186, 6167.865678333823, 7195.84329138946, 8223.820904445098, 9251.798517500734, 10279.776130556373, 11307.75374361201, 12335.731356667646, 13363.708969723284, 14391.68658277892, 15419.664195834559, 16447.641808890196, 17475.619421945834, 18503.59703500147, 19531.574648057107, 20559.552261112745, 21587.52987416838, 22615.50748722402, 23643.485100279657, 24671.46271333529, 25699.44032639093, 26727.41793944657, 27755.395552502207, 28783.37316555784, 29811.35077861348, 30839.328391669118, 31867.306004724753, 32895.28361778039, 33923.261230836026, 34951.23884389167, 35979.2164569473, 37007.19407000294, 38035.17168305858, 39063.149296114214, 40091.12690916985, 41119.10452222549, 42147.082135281125, 43175.05974833676, 44203.0373613924, 45231.01497444804, 46258.99258750367, 47286.97020055931, 48314.94781361495, 49342.92542667058, 50370.903039726225, 51398.88065278186, 52426.8582658375, 53454.83587889314, 54482.81349194877, 55510.79110500441, 56538.76871806005, 57566.74633111568, 58594.723944171325, 59622.70155722696, 60650.679170282594, 61678.656783338236, 62706.63439639387, 63734.612009449505, 64762.58962250515, 65790.56723556078, 66818.54484861642, 67846.52246167205, 68874.5000747277, 69902.47768778334, 70930.45530083896, 71958.4329138946, 72986.41052695025, 74014.38814000587, 75042.36575306152, 76070.34336611716, 77098.32097917279, 78126.29859222843, 79154.27620528407, 80182.2538183397, 81210.23143139534, 82238.20904445098, 83266.18665750661, 84294.16427056225, 85322.1418836179, 86350.11949667352, 87378.09710972916, 88406.0747227848, 89434.05233584043, 90462.02994889607, 91490.00756195172, 92517.98517500734, 93545.96278806299, 94573.94040111863, 95601.91801417425, 96629.8956272299, 97657.87324028554, 98685.85085334117, 99713.82846639681, 100741.80607945245, 101769.78369250809], "response_mean": [0.0, 503.1574213202224, 990.0067576811193, 1461.117521737359, 1917.0380135890578, 2358.2961561629418, 2785.400296064023, 3198.839971386531, 3599.0866479061237, 3986.594425012175, 4361.800712677879, 4725.126880708673, 5076.978881453814, 5417.747847113855, 5747.810662725984, 6067.530515862007, 6377.2574240272825, 6677.328740706041, 6968.069640956301, 7249.7935874182795, 7522.802777561913, 7787.388572963472, 8043.831911365821, 8292.403702244821, 8533.365206572298, 8766.968401435863, 8993.456330147905, 9213.063438447272, 9426.015897372648, 9632.531913360146, 9832.822026094687, 10027.089394621311, 10215.530072201265, 10398.333270376535, 10575.68161268657, 10747.751378462259, 10914.712737103528, 11076.729973230344, 11233.961703079138, 11386.56108250217, 11534.676006910891, 11678.449303491123, 11818.01891600271, 11953.518082464187, 12085.075506009654, 12212.815519193253, 12336.85824200472, 12457.319733849044, 12574.312139731901, 12687.943830882952, 12798.319540039141, 12905.540491601158, 13009.704526866648, 13110.906224536384, 13209.237016680487, 13304.785300344434, 13397.636544967188, 13487.873395776738, 13575.575773321107, 13660.820969287095, 13743.683738751712, 13824.23638900677, 13902.548865089699, 13978.688832149835, 14052.721754772618, 14124.710973380435, 14194.71777782339, 14262.80147826849, 14329.019473491939, 14393.427316674717, 14456.07877879715, 14517.025909725175, 14576.31909707663, 14634.007122952577, 14690.137218614916, 14744.755117189206, 14797.905104467516, 14849.630067883214, 14899.971543727597, 14948.969762674305, 14996.663693676152, 15043.09108629472, 15088.288511522975, 15132.291401156172, 15175.134085766638, 15216.849831333904, 15257.470874580571, 15297.028457062608, 15335.552858059584, 15373.073426310333, 15409.618610636067, 15445.215989492575, 15479.892299490812, 15513.673462924047, 15546.58461433791, 15578.65012617891, 15609.893633554453, 15640.338058137646, 15670.005631247595, 15698.91791613549], "response_hdi_low": [0.0, 240.45329150743927, 476.99587919040675, 709.6914324112807, 938.602582674962, 1163.7909405710536, 1385.3316932858017, 1603.3269197215702, 1817.7961268287397, 2027.8391135050815, 2226.111284737266, 2419.4606656855904, 2608.009936232309, 2791.878711525566, 2971.1836186629475, 3146.038371454325, 3316.55384331214, 3482.83813831605, 3644.9966604977108, 3803.1321813902973, 3960.51094697071, 4135.554310553206, 4308.774321569834, 4480.024146199988, 4649.326311276868, 4816.895955165, 4982.658409377161, 5146.555469265385, 5308.608129145354, 5444.829930370054, 5568.304310679253, 5705.020797809705, 5855.011781337419, 6003.163736946824, 6145.234158015413, 6265.576950420063, 6383.311367722124, 6498.494066910206, 6611.180472326265, 6721.469327265846, 6829.495111246158, 6935.1887740562515, 7056.804525560615, 7178.40762916026, 7298.279890034079, 7416.445958281727, 7532.930132716733, 7647.756365876303, 7760.948268959644, 7872.529116695785, 7982.521852141918, 8090.9490914132675, 8182.710782395846, 8261.446044467159, 8338.335481709568, 8413.422526281112, 8496.667064910716, 8588.000632968835, 8677.836853904122, 8766.20039276556, 8853.115505557817, 8938.606046089046, 9022.695472702566, 9105.406854894396, 9186.762879818642, 9266.54203853996, 9304.243401633597, 9340.688657064895, 9375.92037279233, 9409.979662113967, 9443.558420567808, 9513.657204158302, 9582.597590706047, 9650.399021449437, 9717.080601216321, 9783.411719570893, 9849.417640146985, 9914.356704077158, 9978.246183587185, 10041.10307090326, 10102.944082795708, 10163.785665048952, 10223.643996858818, 10282.534995158476, 10340.474318874112, 10397.47737311147, 10453.559313274442, 10508.73504911674, 10563.01924872779, 10603.488332174205, 10653.48823277589, 10714.953880232444, 10768.146044476509, 10800.888398019348, 10824.614073553365, 10847.683413034329, 10870.114578831952, 10891.925230542176, 10913.132538910524, 10933.753199369685], "response_hdi_high": [0.0, 855.4047145081549, 1674.8110654400086, 2459.734099411396, 3211.6250950287063, 3931.8742470892303, 4619.436340208853, 5275.035894601067, 5901.741569220998, 6505.662645218681, 7082.437727086342, 7642.600600661586, 8179.871793661511, 8705.663337200549, 9195.964159891771, 9666.043199069401, 10121.73390466323, 10558.976097971052, 10978.516692918854, 11380.615011029678, 11764.59116615623, 12134.835767669192, 12458.94285891465, 12772.847403627331, 13090.63812143132, 13387.981327979604, 13642.508833433978, 13906.85402561202, 14198.32807519401, 14479.04120353866, 14739.61425206402, 14975.606547556936, 15168.493861708297, 15339.63461817602, 15501.729117873141, 15665.798320669935, 15829.843290673778, 15997.032701084394, 16224.856552880476, 16436.5853574026, 16598.736076046236, 16738.321845395916, 16871.588565389968, 16998.822537477816, 17120.297082235877, 17236.273128275578, 17346.999774420336, 17452.40255231146, 17552.920578048695, 17648.87471308547, 17740.47221541016, 17833.228183444997, 17927.110427230527, 18017.030630938818, 18103.156001596668, 18185.64668971309, 18264.656087080628, 18340.331112008764, 18412.8124825198, 18510.12806817036, 18621.9477797245, 18730.45972471756, 18835.21453399753, 18936.56366541415, 19036.875176387482, 19105.48422939121, 19159.264112402863, 19210.82015997147, 19260.244760954396, 19307.626453053887, 19353.050083731567, 19396.596964388118, 19437.951008164182, 19477.102213221282, 19537.53025665401, 19607.851534440237, 19676.097897955937, 19742.33067969357, 19806.609395016963, 19868.904445279462, 19929.268410388107, 19987.85066847716, 20044.703940399995, 20099.543220910946, 20139.40095947534, 20152.401628667074, 20164.46586447061, 20175.91564955371, 20186.782346066648, 20197.09571258724, 20206.883986230783, 20216.173960550652, 20231.011663798286, 20263.688330216006, 20295.2998215119, 20325.880901566677, 20355.46519794983, 20384.085239133008, 20411.77249048187, 20438.557389066365], "current_spend": 31893.67461630237, "current_response": 10027.089394621311, "saturation_level": 0.6387121359692809, "marginal_response_at_current": 0.18614609950939887}, "Paid_Social": {"channel": "Paid_Social", "spend": [0.0, 1203.2672076052934, 2406.5344152105868, 3609.8016228158804, 4813.0688304211735, 6016.336038026467, 7219.603245631761, 8422.870453237054, 9626.137660842347, 10829.40486844764, 12032.672076052933, 13235.939283658226, 14439.206491263521, 15642.473698868815, 16845.740906474108, 18049.0081140794, 19252.275321684694, 20455.54252928999, 21658.80973689528, 22862.076944500575, 24065.344152105867, 25268.61135971116, 26471.878567316453, 27675.145774921748, 28878.412982527043, 30081.680190132334, 31284.94739773763, 32488.21460534292, 33691.481812948216, 34894.74902055351, 36098.0162281588, 37301.2834357641, 38504.55064336939, 39707.81785097468, 40911.08505857998, 42114.35226618527, 43317.61947379056, 44520.88668139585, 45724.15388900115, 46927.42109660644, 48130.68830421173, 49333.95551181703, 50537.22271942232, 51740.489927027615, 52943.757134632906, 54147.024342238205, 55350.291549843496, 56553.55875744879, 57756.825965054086, 58960.09317265938, 60163.36038026467, 61366.62758786996, 62569.89479547526, 63773.16200308055, 64976.42921068584, 66179.69641829113, 67382.96362589643, 68586.23083350173, 69789.49804110701, 70992.76524871231, 72196.0324563176, 73399.2996639229, 74602.5668715282, 75805.83407913348, 77009.10128673878, 78212.36849434407, 79415.63570194936, 80618.90290955466, 81822.17011715996, 83025.43732476524, 84228.70453237054, 85431.97173997582, 86635.23894758112, 87838.50615518642, 89041.7733627917, 90245.040570397, 91448.3077780023, 92651.57498560759, 93854.84219321288, 95058.10940081818, 96261.37660842347, 97464.64381602877, 98667.91102363406, 99871.17823123935, 101074.44543884465, 102277.71264644993, 103480.97985405523, 104684.24706166053, 105887.51426926581, 107090.78147687111, 108294.04868447641, 109497.3158920817, 110700.58309968699, 111903.85030729229, 113107.11751489757, 114310.38472250287, 115513.65193010817, 116716.91913771346, 117920.18634531875, 119123.45355292404], "response_mean": [0.0, 289.6879846130102, 572.0393490485626, 847.2594363271662, 1115.5473011922602, 1377.0959194223183, 1632.0923896065892, 1880.7181276765689, 2123.149054473176, 2359.555776617995, 2590.1037609459595, 2814.9535027461793, 3034.2606880475264, 3248.1763501760024, 3456.847020801441, 3660.41487568251, 3859.0178753102655, 4052.7899006425746, 4241.860884113802, 4426.3569360969295, 4606.400466987991, 4782.11030507594, 4953.60181035464, 5120.986984427416, 5284.374576648365, 5443.870186639441, 5599.576363316269, 5751.592700550753, 5900.015929593535, 6044.940008374154, 6186.456207792712, 6324.653195111956, 6459.617114554651, 6591.431665206999, 6720.178176325139, 6845.935680137605, 6968.780982233551, 7088.788729622827, 7206.031476550549, 7320.5797481461095, 7432.502101983121, 7541.865187624066, 7648.733804220516, 7753.170956237404, 7855.237907366789, 7954.9942326945065, 8052.497869180552, 8147.805164511763, 8240.970924383144, 8332.048458262363, 8421.089623689377, 8508.14486916199, 8593.263275655429, 8676.49259682296, 8757.87929792245, 8837.468593512242, 8915.30448395819, 8991.429790792026, 9065.886190959953, 9138.714249998893, 9209.953454176253, 9279.642241628231, 9347.818032529995, 9414.517258330063, 9479.775390080049, 9543.626965889842, 9606.105617537225, 9667.24409625974, 9727.074297755915, 9785.62728642171, 9842.933318847494, 9899.021866599482, 9953.921638309146, 10007.660601093334, 10060.266001326327, 10111.764384785458, 10162.181616190206, 10211.542898154252, 10259.872789569808, 10307.195223442002, 10353.533524191367, 10398.910424440934, 10443.348081305061, 10486.868092195074, 10529.49151015779, 10571.23885876122, 10612.130146541991, 10652.18488102829, 10691.422082351728, 10729.86029646089, 10767.517607949185, 10804.411652509069, 10840.559629024194, 10875.978311310946, 10910.684059519834, 10944.692831207994, 10978.020192092205, 11010.68132649282, 11042.691047477923, 11074.063806716882], "response_hdi_low": [0.0, 120.5672847385342, 239.74604825154645, 357.5721174060718, 474.0576580666617, 589.216347494518, 703.0633592890233, 815.6136930875166, 926.882176562947, 1036.8834673985775, 1145.6320552399666, 1253.1422636245425, 1359.4282518889675, 1464.5040170545947, 1568.3833956912517, 1671.0800657595937, 1772.607548432283, 1872.9792098942403, 1973.8326463210033, 2075.9467891412396, 2168.8444442398927, 2262.5962163482964, 2357.0487480712086, 2450.3996143663194, 2542.661736253661, 2633.874207356721, 2724.307904300718, 2813.709260102714, 2902.0900876476067, 2989.4620644114493, 3075.8367340155874, 3161.2255077629466, 3245.6396661566564, 3332.53821941399, 3419.7750269462613, 3505.7223787861094, 3585.732425620573, 3664.7826755514334, 3742.884642833741, 3820.049703584541, 3896.28909744021, 3971.613929193903, 4046.0351704133627, 4119.5636610393085, 4192.210110964657, 4263.985101594785, 4334.899087389083, 4404.962397384, 4474.185236697831, 4542.577688017427, 4610.149713067095, 4676.911154059851, 4742.871735131272, 4808.041063756139, 4872.917043173228, 4937.455390200737, 5001.249607744747, 5064.3082760997395, 5126.639876618393, 5188.288431347225, 5249.320158490171, 5311.612184678143, 5374.406136537273, 5436.572702092186, 5493.2874076519765, 5543.627830084206, 5600.210416923503, 5656.258121786044, 5711.764550273763, 5766.630992753248, 5820.864828615822, 5874.4733521596945, 5927.463773571248, 5979.8432198949995, 6031.618735992383, 6082.797285489453, 6133.385751713701, 6183.390938620015, 6232.819571706013, 6281.678298916778, 6329.9736915391795, 6377.712245085886, 6424.90038016917, 6471.544443364631, 6517.650708064986, 6555.085017668518, 6581.459512723694, 6613.145878791324, 6655.282919675465, 6696.906548711494, 6738.619545682505, 6779.84665544192, 6820.580089324039, 6860.825760539557, 6900.589511453039, 6939.87711443192, 6978.6942726853395, 7017.04662109291, 7054.939727023564, 7092.379091144572], "response_hdi_high": [0.0, 528.8931283548209, 1037.9267032780792, 1527.846506990442, 1999.3703129858445, 2453.0907098343187, 2889.626618754214, 3309.7010646096733, 3713.934927097272, 4102.925662822533, 4477.248189165766, 4835.466671075634, 5175.0875935769745, 5515.691264671993, 5839.787191276041, 6149.440608572108, 6447.339317544114, 6733.60242659177, 7009.084373534857, 7274.191217149401, 7529.3137216759815, 7774.827932934107, 8019.19436872677, 8253.798132616974, 8478.277845384082, 8716.735514017048, 8937.85488373306, 9146.920403138625, 9294.803501335437, 9465.437988212052, 9652.01132524464, 9832.252849771861, 10006.37744974477, 10174.592720193139, 10337.099210737477, 10494.090664700723, 10645.754250104752, 10792.270782827043, 10933.814942183635, 11070.555479195405, 11202.655417786013, 11329.889381146235, 11451.58044222372, 11569.09779138488, 11658.891655248226, 11771.279563035881, 11882.605226399854, 11990.904102511748, 12102.365688710654, 12202.370537843552, 12296.1432691779, 12389.089147448345, 12485.266549840866, 12578.298617553, 12668.435029558867, 12760.201136953941, 12851.297125618004, 12939.741350922168, 13025.611008509915, 13108.981046656465, 13189.924231699255, 13268.511211563346, 13344.810577437222, 13390.01520883354, 13428.97200422375, 13492.566722391943, 13553.839386239588, 13613.196757491836, 13670.698733217354, 13726.403336334732, 13780.366774288566, 13832.643495887225, 13875.118622289745, 13914.869736265959, 13953.216868857126, 13990.209634422885, 14036.696697508685, 14086.55096403401, 14134.982077753932, 14182.030673445248, 14227.68351356445, 14260.529784989676, 14284.044195339802, 14313.727699079049, 14355.383835625387, 14377.196600529865, 14413.58394489956, 14467.52411281766, 14513.123243286533, 14543.46653691177, 14572.876820218427, 14601.170253964381, 14628.385189414706, 14654.75496118684, 14680.305822673154, 14705.063211562829, 14729.839243935341, 14757.717499455539, 14784.801020141214, 14811.112461767223], "current_spend": 26842.54119312744, "current_response": 4953.60181035464, "saturation_level": 0.4473156283739375, "marginal_response_at_current": 0.14081522259128865}, "Display": {"channel": "Display", "spend": [0.0, 438.3824127923012, 876.7648255846024, 1315.1472383769035, 1753.5296511692047, 2191.9120639615057, 2630.294476753807, 3068.676889546108, 3507.0593023384095, 3945.4417151307107, 4383.8241279230115, 4822.206540715313, 5260.588953507614, 5698.971366299916, 6137.353779092216, 6575.736191884518, 7014.118604676819, 7452.50101746912, 7890.883430261421, 8329.265843053723, 8767.648255846023, 9206.030668638325, 9644.413081430626, 10082.795494222928, 10521.177907015228, 10959.56031980753, 11397.942732599831, 11836.325145392131, 12274.707558184433, 12713.089970976735, 13151.472383769036, 13589.854796561336, 14028.237209353638, 14466.61962214594, 14905.00203493824, 15343.384447730541, 15781.766860522843, 16220.149273315144, 16658.531686107446, 17096.914098899746, 17535.296511692046, 17973.67892448435, 18412.06133727665, 18850.44375006895, 19288.826162861253, 19727.208575653553, 20165.590988445856, 20603.973401238156, 21042.355814030456, 21480.73822682276, 21919.12063961506, 22357.50305240736, 22795.885465199663, 23234.267877991962, 23672.650290784262, 24111.032703576566, 24549.415116368866, 24987.797529161166, 25426.17994195347, 25864.56235474577, 26302.944767538072, 26741.327180330372, 27179.709593122672, 27618.092005914976, 28056.474418707276, 28494.856831499575, 28933.23924429188, 29371.62165708418, 29810.00406987648, 30248.386482668782, 30686.768895461082, 31125.151308253386, 31563.533721045686, 32001.916133837985, 32440.29854663029, 32878.680959422585, 33317.06337221489, 33755.44578500719, 34193.82819779949, 34632.21061059179, 35070.59302338409, 35508.9754361764, 35947.3578489687, 36385.740261761, 36824.1226745533, 37262.5050873456, 37700.8875001379, 38139.269912930205, 38577.652325722505, 39016.034738514805, 39454.417151307105, 39892.799564099405, 40331.18197689171, 40769.56438968401, 41207.94680247631, 41646.32921526861, 42084.71162806091, 42523.09404085321, 42961.47645364552, 43399.85886643782], "response_mean": [0.0, 86.11917188484645, 169.6550964053879, 250.69260849427897, 329.31352830843394, 405.5967759253947, 479.6184814125083, 551.4520904652455, 621.1684658023072, 688.8359844968544, 754.5206314152664, 818.2860889273045, 880.1938230443068, 940.3031661352062, 998.6713963635417, 1055.3538139824202, 1110.403814618365, 1163.8729596692938, 1215.8110439364227, 1266.2661606046559, 1315.2847636811073, 1362.9117279965978, 1409.1904068704985, 1454.1626875348625, 1497.869044409839, 1540.3485903181565, 1581.6391257229932, 1621.7771860696294, 1660.798087308136, 1698.7359696708418, 1735.6238397752932, 1771.4936111203904, 1806.3761430405018, 1840.3012781796199, 1873.2978785450402, 1905.3938601974485, 1936.616226632004, 1966.9911009026662, 1996.5437565397863, 2025.2986473090102, 2053.279435857364, 2080.5090212906475, 2107.0095657243132, 2132.802519848297, 2157.908647544606, 2182.3480495948156, 2206.140186513162, 2229.30390053937, 2251.8574368239974, 2273.818463837796, 2295.204093035064, 2316.0308978001126, 2336.314931704393, 2356.071746100976, 2375.3164070819203, 2394.0635118229247, 2412.3272043388515, 2430.1211906726194, 2447.458753539085, 2464.35276644474, 2480.815707303078, 2496.859671564807, 2512.4963848812836, 2527.7372153187703, 2542.5931851404607, 2557.0749821725367, 2571.1929707698596, 2584.9572023962746, 2598.377425833997, 2611.4630970358025, 2624.2233886334307, 2636.6671991148505, 2648.803161682767, 2660.6396528060595, 2672.18480047554, 2683.4464921748913, 2694.432382577246, 2705.1499009774443, 2715.6062584696992, 2725.808454879869, 2735.76328546134, 2745.4773473631017, 2754.957045878219, 2764.2086004807124, 2773.2380506584427, 2782.0512615493944, 2790.653929388298, 2799.051586770587, 2807.249607740069, 2815.2532127066374, 2823.0674732001567, 2830.69731646622, 2838.1475299095246, 2845.42276539011, 2852.5275433778, 2859.4662569697357, 2866.2431757758827, 2872.8624496770863, 2879.328112460221, 2885.644085334603], "response_hdi_low": [0.0, 39.11948480783747, 77.69824077833972, 115.743748051148, 153.26338322082154, 190.26442077098426, 226.7827599090694, 263.0507736983806, 298.89544564111577, 334.3217227083062, 369.3344939874574, 403.93859136087593, 438.1387901760295, 471.9398099080431, 504.9001066649588, 536.9145243126402, 568.432835640291, 599.4627310456241, 630.0117816778187, 660.0874412871052, 689.6970480456539, 718.8478263402177, 747.5468885369606, 775.8012367189083, 803.6177643964442, 831.2112628210413, 858.9167481494071, 886.3622874206263, 913.4436019529064, 940.1655256293635, 966.552576263538, 992.9115485670051, 1019.5097084558785, 1045.8091787485696, 1071.8133168866568, 1096.8923634357398, 1117.6940535163633, 1141.5621262209677, 1165.256746685346, 1187.4332814606585, 1208.4492766925855, 1229.3613309152925, 1251.3561360268868, 1273.0432139986024, 1294.4268779888669, 1315.5113805668027, 1336.3009145657088, 1353.2668210036072, 1369.1141584835052, 1388.5391000103905, 1406.3264856616208, 1423.2165710151414, 1442.9850582253066, 1462.5068453738727, 1481.8007274933616, 1500.9002462987214, 1519.7629651400273, 1538.4136860683857, 1556.8510010409025, 1575.1189261285579, 1593.1630576800637, 1610.9861374367804, 1625.7628102641613, 1639.1458046881044, 1652.2716201682103, 1665.1452290081802, 1677.7715070167942, 1690.155235384817, 1704.0134523837396, 1720.0967213244232, 1736.1372731406325, 1751.9894918130349, 1767.6555890022576, 1783.1377503919823, 1795.911154634222, 1810.7068154752503, 1826.023204125608, 1841.170472312794, 1856.1505298627294, 1870.9652640390404, 1884.2171481611977, 1890.474207745253, 1896.5596387000412, 1902.4781515768718, 1908.3318171836909, 1914.0484293063405, 1919.611348214552, 1925.024749689184, 1930.2926953607432, 1935.4191358408075, 1940.4079137673777, 1947.7770147556685, 1953.6044130821924, 1957.8837961150336, 1962.0426193310466, 1966.0842792223932, 1970.012076591549, 1974.0397521472898, 1983.3327805567337, 1992.4944556927223], "response_hdi_high": [0.0, 154.46940006874635, 301.75831398574667, 442.2005392264814, 576.1143554923127, 705.0282892155697, 829.4367314487181, 946.9069256402811, 1059.0231970795335, 1166.1100346715816, 1268.3938824248269, 1365.7099669956385, 1457.8330402078598, 1545.6534020703548, 1629.37202611375, 1709.1804982064039, 1785.2614550821982, 1861.1569742961349, 1933.9332281962395, 2003.6516918801651, 2068.391479128303, 2132.332264234929, 2191.436281783233, 2247.898142907952, 2301.8359758352944, 2353.362626781238, 2402.7101222147735, 2460.3071186122697, 2513.7028044023477, 2557.588850560904, 2597.1203496342846, 2634.793260435163, 2676.189733748234, 2720.2081408287513, 2759.479859477181, 2794.8215364231346, 2828.690028334726, 2861.146803901137, 2892.25076491533, 2928.9179474296593, 2965.7033795403895, 3001.2695178322156, 3035.5105428717748, 3068.432709787982, 3090.8155041192313, 3118.54147631926, 3136.903696877587, 3160.1176311085387, 3186.4215177152064, 3211.6894801085177, 3235.8251933167185, 3259.1297959446442, 3280.4295732336996, 3294.0566970207046, 3315.483994300427, 3339.1941974574524, 3360.790001886441, 3381.5590845397583, 3401.6638062815773, 3420.773271020666, 3438.0715210999924, 3454.755438465634, 3470.7651795508446, 3483.8429923530525, 3496.307787962939, 3508.2954752537626, 3520.4836208308807, 3535.937531142304, 3547.6544388468983, 3555.0159070799273, 3561.9663807424586, 3570.6427032621573, 3579.619043338473, 3588.468905283889, 3596.6961462012155, 3602.2561223150688, 3605.6203918851847, 3610.3548202426673, 3615.369800595987, 3620.162481766547, 3626.646990314711, 3634.162040473773, 3647.622268741779, 3658.950996129374, 3664.844101445622, 3670.694876184269, 3679.676184946737, 3688.3891542184333, 3696.841815592188, 3704.9032574341336, 3712.5914062420698, 3720.046532153467, 3727.2757166717765, 3736.388366458474, 3746.101677328182, 3748.560261763657, 3757.2111070913347, 3768.6642678522244, 3779.871390709403, 3790.8377638087454], "current_spend": 12593.900211143444, "current_response": 1698.7359696708418, "saturation_level": 0.5886852014439841, "marginal_response_at_current": 0.08534301363796759}, "Radio": {"channel": "Radio", "spend": [0.0, 299.4338386945904, 598.8676773891808, 898.3015160837713, 1197.7353547783616, 1497.169193472952, 1796.6030321675426, 2096.0368708621327, 2395.4707095567232, 2694.904548251314, 2994.338386945904, 3293.7722256404945, 3593.206064335085, 3892.639903029675, 4192.073741724265, 4491.507580418856, 4790.9414191134465, 5090.375257808037, 5389.809096502628, 5689.242935197218, 5988.676773891808, 6288.110612586399, 6587.544451280989, 6886.978289975579, 7186.41212867017, 7485.84596736476, 7785.27980605935, 8084.713644753941, 8384.14748344853, 8683.581322143122, 8983.015160837713, 9282.448999532302, 9581.882838226893, 9881.316676921484, 10180.750515616073, 10480.184354310664, 10779.618193005255, 11079.052031699845, 11378.485870394436, 11677.919709089027, 11977.353547783616, 12276.787386478207, 12576.221225172798, 12875.655063867387, 13175.088902561978, 13474.52274125657, 13773.956579951158, 14073.39041864575, 14372.82425734034, 14672.25809603493, 14971.69193472952, 15271.12577342411, 15570.5596121187, 15869.993450813292, 16169.427289507881, 16468.861128202472, 16768.29496689706, 17067.728805591654, 17367.162644286243, 17666.596482980833, 17966.030321675426, 18265.464160370015, 18564.897999064604, 18864.331837759197, 19163.765676453786, 19463.199515148375, 19762.633353842968, 20062.067192537557, 20361.501031232146, 20660.93486992674, 20960.36870862133, 21259.802547315918, 21559.23638601051, 21858.6702247051, 22158.10406339969, 22457.537902094282, 22756.97174078887, 23056.40557948346, 23355.839418178053, 23655.273256872642, 23954.70709556723, 24254.140934261824, 24553.574772956414, 24853.008611651003, 25152.442450345596, 25451.876289040185, 25751.310127734774, 26050.743966429367, 26350.177805123956, 26649.611643818545, 26949.04548251314, 27248.479321207727, 27547.913159902317, 27847.34699859691, 28146.7808372915, 28446.214675986088, 28745.64851468068, 29045.08235337527, 29344.51619206986, 29643.950030764452], "response_mean": [0.0, 34.72549732557285, 68.67043380273441, 101.85430250388112, 134.2960670386937, 166.01417696336742, 197.02658271397684, 227.3507500794798, 257.003674229323, 286.0018933101172, 314.3615016253418, 342.09816241156875, 369.22712022424014, 395.76321294558437, 421.7208834268347, 447.1141907765042, 471.9568213060564, 496.26209914396867, 520.0429965287636, 543.3121437912666, 566.0818390359913, 588.3640575312207, 610.1704608170361, 631.5124055402292, 652.4009520247479, 672.8468725860348, 692.8606595973177, 712.4525333156909, 731.6324494755173, 750.4101066564582, 768.7949534332071, 786.7961953137305, 804.4228014726502, 821.6835112861207, 838.5868406744185, 855.1410882581873, 871.3543413341368, 887.234481675782, 902.7891911646349, 918.0259572570864, 932.9520782920334, 947.5746686441697, 961.9006637276539, 975.9368248547705, 989.6897439540255, 1003.1658481519369, 1016.371404222731, 1029.3125229099473, 1041.9951631238182, 1054.4251360182677, 1066.6081089511172, 1078.5496093310524, 1090.2550283548057, 1101.7296246378107, 1112.978527741587, 1124.006741600951, 1134.8191478540361, 1145.4205090780783, 1155.8154719337515, 1166.0085702208123, 1176.0042278476838, 1185.8067617175604, 1195.4203845334946, 1204.849207524903, 1214.0972430977845, 1223.1684074109444, 1232.0665228803957, 1240.7953206140473, 1249.3584427787707, 1257.7594449017727, 1266.001798108281, 1274.0888912973446, 1282.0240332575947, 1289.810454724717, 1297.4513103823342, 1304.9496808079482, 1312.3085743655395, 1319.5309290463772, 1326.6196142595427, 1333.5774325736154, 1340.4071214109458, 1347.111354695875, 1353.692744458224, 1360.15384239336, 1366.4971413800802, 1372.7250769574837, 1378.8400287620782, 1384.8443219262176, 1390.740228438959, 1396.5299684704385, 1402.215711660817, 1407.7995783747504, 1413.2836409224171, 1418.669924748032, 1423.9604095867332, 1429.1570305908085, 1434.261679426039, 1439.276205339083, 1444.2024161966517, 1449.0420794973052], "response_hdi_low": [0.0, 13.517381822074936, 26.92408755689152, 40.22102962421155, 53.409112847408956, 66.48923451759416, 79.46228445718691, 92.32914508294091, 105.09069146842869, 117.74779140598736, 130.30130546813294, 142.75208706844774, 155.10098252194203, 167.34883110490074, 179.49646511421273, 191.5447099261941, 203.40115561012195, 214.9281856837394, 226.32770642455657, 237.60630063239097, 248.75858852736687, 259.7859864007593, 270.6898946465185, 281.4716979398565, 292.1327654138255, 302.674450833912, 313.09809277066864, 323.40501477040476, 333.59652552395835, 343.67391903357185, 353.6384747778907, 363.49145787510815, 373.2341192442768, 382.8676957648057, 392.3934104341643, 401.7828506488909, 410.8116892047536, 419.72514199304624, 428.5246910956821, 437.21179949889125, 445.7879113397175, 454.2544521493314, 462.61282909319675, 470.8644312081361, 479.01062963633103, 487.05277785629795, 494.9922119108811, 502.8302506322976, 510.56819586427486, 518.207332681318, 526.5282139093746, 535.0896401054739, 543.5980585795372, 552.0403176491433, 560.4169317547395, 568.7284113365952, 576.9752628659049, 584.4777920457951, 591.7580757855272, 599.7463841661148, 607.6776913200491, 615.54612648942, 623.3521905056393, 631.0963801833618, 638.7791883530019, 646.4011038929849, 653.9626117617298, 661.4641930293751, 668.9205502035445, 676.3224528840037, 683.6661405055978, 690.9520711486837, 698.1806992870917, 705.3524758165393, 712.4815841146872, 719.5564610650846, 726.5760640737615, 733.5408250913247, 740.4511726920131, 747.3075321000924, 754.1103252160486, 760.8599706425714, 767.5568837103393, 774.2014765035995, 780.7941578855492, 787.3353335235186, 793.8254059139573, 800.2647744072232, 806.6538352321794, 812.9929815206003, 819.2826033313825, 825.5230876745701, 831.7148185351907, 837.8581768969054, 843.9535407654726, 850.0012851920311, 856.0017822961983, 861.9554012889882, 867.8625084955534, 873.7234673777435], "response_hdi_high": [0.0, 64.82718077332824, 127.48613429285565, 188.04938085785747, 246.58701515554665, 303.16678739265075, 357.8541817132662, 410.7124919937639, 461.80289510248156, 511.18452170899735, 558.9145247249551, 605.0481454556596, 649.6387775390125, 692.738028745804, 734.3957807128915, 774.6602466784084, 813.5780272858347, 851.1941645215201, 887.5521938480965, 924.0286819601556, 959.9373344018912, 994.818134164322, 1028.700618744639, 1061.6134722926622, 1093.5845504399545, 1124.2053385006009, 1149.9330979818428, 1174.6577781278795, 1199.4506996364948, 1226.9905466782795, 1253.7530334124824, 1279.760102200219, 1305.0330760406687, 1329.5926760536604, 1353.4590384687901, 1376.601262939767, 1398.9906768571755, 1420.7422423967878, 1441.5136383493063, 1457.429138842102, 1472.7253014397622, 1490.8959502189537, 1512.6249379215421, 1533.8644404639347, 1554.5944511804228, 1571.9213267749478, 1586.8279184264336, 1601.2300373899152, 1619.3127884903824, 1635.1286065320407, 1652.2705383331036, 1668.9284579915634, 1683.859087686151, 1697.7705071148216, 1710.524525284241, 1722.0853004239998, 1736.9143981807756, 1749.3331697505332, 1761.3666186622763, 1772.9937980850036, 1784.3246242829732, 1795.26245743296, 1803.9340557470812, 1812.7805758287045, 1824.5535024933822, 1836.0380546144645, 1845.8987187750818, 1855.1420213776935, 1862.1662593139872, 1868.6253606055202, 1874.8316565999405, 1883.383628469286, 1892.11345724329, 1899.855395293555, 1906.698584415673, 1913.2760738198554, 1921.8130485863032, 1930.1388738679025, 1938.258772683749, 1946.1778388413636, 1953.8880888950828, 1960.6227966363672, 1968.0297234979403, 1975.1104191204852, 1981.5413399697638, 1987.8039391902619, 1993.9026229893109, 1999.764407104794, 2003.1848654219975, 2006.3385322963927, 2009.4095966277225, 2014.0952665884197, 2018.6490078715185, 2023.074535644675, 2027.3754604387188, 2031.5552910951496, 2035.6174376305958, 2039.5652140205693, 2043.4018409048012, 2047.1304482163591], "current_spend": 8560.91847278929, "current_response": 750.4101066564582, "saturation_level": 0.5178663320231438, "marginal_response_at_current": 0.062054616338125035}};
        const satChannels = Object.keys(satData);
        
        // First 3 channels
        const satTraces1 = satChannels.slice(0, 3).map((ch, i) => ({
            x: satData[ch].spend.map(s => s / 1000),
            y: satData[ch].response_mean.map(r => r / 1000),
            name: ch.replace('_', ' '),
            mode: 'lines',
            line: { color: colors[i], width: 2 }
        }));
        
        Plotly.newPlot('saturationChart1', satTraces1, {
            title: 'Saturation Curves (TV, Search, Social)',
            xaxis: { title: 'Weekly Spend ($K)' },
            yaxis: { title: 'Response ($K)' },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            legend: { orientation: 'h', y: -0.2 }
        });
        
        // Last 2 channels
        const satTraces2 = satChannels.slice(3).map((ch, i) => ({
            x: satData[ch].spend.map(s => s / 1000),
            y: satData[ch].response_mean.map(r => r / 1000),
            name: ch.replace('_', ' '),
            mode: 'lines',
            line: { color: colors[i + 3], width: 2 }
        }));
        
        Plotly.newPlot('saturationChart2', satTraces2, {
            title: 'Saturation Curves (Display, Radio)',
            xaxis: { title: 'Weekly Spend ($K)' },
            yaxis: { title: 'Response ($K)' },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            legend: { orientation: 'h', y: -0.2 }
        });
        
        // Adstock Chart
        const adstockData = {"TV": {"channel": "TV", "decay_weights": [0.40744824798344564, 0.24419793890998356, 0.1463563376772868, 0.08771645524086068, 0.05257152947477711, 0.031507950289695726, 0.018883812994907084, 0.011317727429043287], "alpha_mean": 0.5993348606076352, "alpha_hdi_low": 0.3310462752746986, "alpha_hdi_high": 0.8624949248257674, "half_life": 1.3539754958887877, "total_carryover": 0.5925517520165543, "l_max": 8}, "Paid_Search": {"channel": "Paid_Search", "decay_weights": [0.7529389983070041, 0.18602973540933862, 0.045962637789094596, 0.011356055890113665, 0.0028057572755318056, 0.000693222538298098, 0.00017127550262286054, 4.231728799633866e-05], "alpha_mean": 0.2470714570870012, "alpha_hdi_low": 0.03505087965137468, "alpha_hdi_high": 0.4894272928241064, "half_life": 0.49578588398240114, "total_carryover": 0.24706100169299597, "l_max": 8}, "Paid_Social": {"channel": "Paid_Social", "decay_weights": [0.5972121100030479, 0.24079895813752855, 0.09709136380342874, 0.039147731361137465, 0.015784564256678662, 0.0063644165347613215, 0.002566165094535616, 0.0010346908088818144], "alpha_mean": 0.4032050825900025, "alpha_hdi_low": 0.1430389287445468, "alpha_hdi_high": 0.7008006967289087, "half_life": 0.7631174528766825, "total_carryover": 0.4027878899969522, "l_max": 8}, "Display": {"channel": "Display", "decay_weights": [0.6498145084847952, 0.2276514265213198, 0.07975379330639325, 0.027940380800395348, 0.009788435720818826, 0.0034292114536694585, 0.0012013657268001236, 0.0004208779858079604], "alpha_mean": 0.35033293893690676, "alpha_hdi_low": 0.09254243226100252, "alpha_hdi_high": 0.6240653306481353, "half_life": 0.6608505406322277, "total_carryover": 0.35018549151520484, "l_max": 8}, "Radio": {"channel": "Radio", "decay_weights": [0.49882877706561285, 0.25102188273564774, 0.12631986867882938, 0.06356700479312706, 0.03198834942302828, 0.016097258351873596, 0.008100503186964177, 0.004076355764916908], "alpha_mean": 0.5032225370242219, "alpha_hdi_low": 0.22332859672013922, "alpha_hdi_high": 0.7815272429470769, "half_life": 1.0093551480888363, "total_carryover": 0.5011712229343872, "l_max": 8}};
        const adstockTraces = Object.keys(adstockData).map((ch, i) => ({
            x: Array.from({length: adstockData[ch].l_max}, (_, i) => i),
            y: adstockData[ch].decay_weights,
            name: ch.replace('_', ' '),
            mode: 'lines+markers',
            line: { color: colors[i % colors.length], width: 2 },
            marker: { size: 6 }
        }));
        
        Plotly.newPlot('adstockChart', adstockTraces, {
            title: 'Adstock Decay Curves',
            xaxis: { title: 'Weeks After Spend', dtick: 1 },
            yaxis: { title: 'Effect Weight', range: [0, 1] },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            legend: { orientation: 'h', y: -0.15 }
        });
    </script>
</body>
</html>
